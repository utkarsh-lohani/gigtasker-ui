<div class="login-page">

    <!-- Background blobs -->
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <div class="blob blob3"></div>

    <div
        class="login-card"
        (mousemove)="handleTilt($event)"
        (mouseleave)="resetTilt()"
        [style.--tiltX]="tiltX()"
        [style.--tiltY]="tiltY()"
    >
        <div class="header">
            <h1>Welcome Back</h1>
            <p>Please sign in to continue</p>
        </div>

        <form (ngSubmit)="login()">

            <!-- Username -->
            <mat-form-field appearance="outline" class="form-field">
                <mat-label>Username</mat-label>
                <mat-icon matPrefix>person</mat-icon>
                <input
                    matInput
                    [(ngModel)]="username"
                    name="username"
                    required
                />
            </mat-form-field>

            <!-- Password -->
            <mat-form-field appearance="outline" class="form-field">
                <mat-label>Password</mat-label>
                <mat-icon matPrefix>lock</mat-icon>

                <input
                    matInput
                    [type]="showPassword() ? 'text' : 'password'"
                    [(ngModel)]="password"
                    name="password"
                    required
                />

                <button
                    mat-icon-button
                    matSuffix
                    type="button"
                    (click)="togglePassword()"
                    tabindex="-1"
                >
                    <mat-icon>{{ showPassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
            </mat-form-field>

            <!-- Login button -->
            <button mat-flat-button class="primary-btn" type="submit" [disabled]="isLoading()">
                @if (!isLoading()) { Log In }
                @else { Signing in... }
            </button>
        </form>

        <div class="footer" (click)="redirectToRegistration()">
            New here?
            <a>Create an account</a>
        </div>
    </div>
</div>
